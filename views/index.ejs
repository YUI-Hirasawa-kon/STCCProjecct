<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <header>
        <nav>
            <h1>Hong Kong Movie System</h1>
            <% if (user) { %>
                <span>Welcome, <%= user.displayName || user.username %></span>
                <a href="/admin">Admin</a>
                <a href="/auth/profile">My Profile</a>
                <a href="/admin/logout">Logout</a>
            <% } else { %>
                <a href="/admin/login">Admin Login</a>
            <% } %>
        </nav>
    </header>

    <main>
        <div class="hero" style="text-align: center; padding: 4rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
            <h1 style="font-size: 3rem; margin-bottom: 1rem;">Welcome to the Hong Kong Movie System</h1>
            <p style="font-size: 1.2rem; margin-bottom: 2rem;">Explore the latest movie news and release information</p>
            <a href="/movies" style="display: inline-block; background: white; color: #667eea; padding: 1rem 2rem; text-decoration: none; border-radius: 5px; font-weight: bold;">
                Browse Movies
            </a>
        </div>

        <% if (movies && movies.length > 0) { %>
        <section style="max-width: 1200px; margin: 2rem auto; padding: 0 2rem;">
            <h2 style="text-align: center; margin-bottom: 2rem;">Now Showing</h2>
            <div class="movies-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 2rem;">
                <% movies.forEach(movie => { %>
                <div class="movie-card" style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    <% if (movie.posterUrl) { %>
                    <img src="<%= movie.posterUrl %>" alt="<%= movie.title %>" style="width: 100%; height: 300px; object-fit: cover;">
                    <% } %>
                    <div style="padding: 1rem;">
                        <h3 style="margin: 0 0 0.5rem 0; font-size: 1.1rem;"><%= movie.title %></h3>
                        <p style="color: #666; margin: 0 0 0.5rem 0; font-size: 0.9rem;">Director: <%= movie.director %></p>
                        <p style="color: #666; margin: 0 0 0.5rem 0; font-size: 0.9rem;">Rating: <%= movie.rating %></p>
                        <p style="color: #666; margin: 0; font-size: 0.9rem;">Status:
                            <span style="color: <%= movie.isFull ? '#e74c3c' : (movie.releaseDate > new Date() ? '#f39c12' : '#27ae60') %>">
                                <%= movie.isFull ? 'Full' : (movie.releaseDate > new Date() ? 'Coming Soon' : 'Now Showing') %>
                            </span>
                        </p>
                    </div>
                </div>
                <% }) %>
            </div>
        </section>
        <% } else { %>
        <section style="text-align: center; padding: 2rem;">
            <p>No movie information available</p>
        </section>
        <% } %>
    </main>

    <footer style="background: #34495e; color: white; text-align: center; padding: 2rem; margin-top: 4rem;">
        <p>&copy;  Movie System - All rights reserved</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #bdc3c7;">Hong Kong rating system: I, IIA, IIB, III</p>
    </footer>
</body>
</html>